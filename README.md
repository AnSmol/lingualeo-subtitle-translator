# Перевод английских слов в субтитрах по клику с помощью Lingualeo
С сохранением в словарь сервиса (сохранение отключается при необходимости).

**Для работы необходимо:**

1. Аккаунт на [Lingualeo](https://lingualeo.com/)
1. [PotPlayer](http://potplayer.daum.net) (необходимые настройки - ниже)
2. [Node.js](https://nodejs.org/en/download/) и скрипт из данного репозитория

## Подготовка к работе скрипта

1. **Устанавливаем PotPlayer.** У него есть удобная функция - поиск слов из субтитров по клику на них (по умолчанию работает тогда, когда видео стоит на паузе). Так как скрипт перехватывает слова из буфера
обмена, в плеере необходимо включить копирование слов в буфер вместо поиска в Google. Для этого открываем любое видео с субтитрами, останавливаем его, кликаем на любое слово правой кнопкой - "Параметры". 
Выделяем строчку "Копировать в буфер обмена" и с помощью кнопки "Выше" перетаскиваем на первое место. Жмем ОК.
2. **Если не установлено - ставим node.js**
3. **Устанавливаем и настраиваем скрипт.** Копируем содержимое данного репозитория в отдельную папку. Находясь в этой папке, в консоли выполняем `npm i` или `yarn install` (если установлен Yarn). В файл auth-config.js вписываем логин и пароль для Lingualeo.
4. **Опционально для пользователей Windows < 8.** Ставим [Growl](www.growlforwindows.com) - программу для демонстрации всплывающих уведомлений в стиле MacOS.

## Запуск и работа со скриптом

1. Открываем PotPlayer с нужным видео
2. Запускаем скрипт: находясь в его папке выполняем `node index.js` (перевод будет отображаться во всплывающем окне + слова, которых нет в словаре сервиса, будто автоматически туда добавлены) или `node index.js --nodict` (только показ переводов, без добавления в словарь). **ВАЖНО:** скрипт перехватывает любое текстовое содержимое буфера, в котором нет пробелов, так что запускать его стоит только для перевода субтитров. И не отвлекаться от просмотра - это и для изучения языка полезно :)
3. Можно кликать на непонятные слова и смотреть перевод. Enjoy!

Выполнение скрипта завершается стандартной комбинацией `Ctrl + C`. После завершения работы рекомендуется зайти в Словарь Lingualeo и откорректировать значения слов, т.к. для уменьшения количества действий пользователя скрипт автоматически выбирает первое (самое популярное) значения слова из списка.

## Дисклеймер

Скрипт написан для личного использования и может содержать ошибки (как и любой другой), из-за специфики применения некоторыми проверками в коде было решено пренебречь. Доработки и модификации всячески приветствуются.
